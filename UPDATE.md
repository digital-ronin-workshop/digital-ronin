# Обновление Конструктора Фабрики Контента

> **Главное правило:** Твои проекты — неприкосновенны. Обновляется только «движок».

---

## Золотое правило обновления

```
 ✅ МОЖНО обновлять (движок):        ❌ НЕЛЬЗЯ трогать (твоё):
 
 .claude/skills/*                     projects/{твой-проект}/*
 agents/*                               ├── brand/          ← твой голос
 docs/*                                  ├── learning/       ← твой опыт
 scripts/*                               ├── content/        ← твой контент
 projects/_template/*                    ├── strategy/       ← твоя стратегия
 CLAUDE.md                               ├── references/     ← твои примеры
 README.md                               ├── sessions/       ← твоя история
 CHANGELOG.md                            └── modules/        ← твои настройки
 UPDATE-GUIDE.md
 VERSION
```

**Простыми словами:**
- `projects/_template/` = шаблон для новых проектов → **обновляй смело**
- `projects/daria/` (или любое другое имя) = твои данные → **не трогай!**

---

## Перед обновлением

### Посмотри текущую версию

```bash
cat VERSION
```

### Посмотри что нового

Открой `CHANGELOG.md` в новой версии — там описаны все изменения.

---

## Способ 1: Git (рекомендуется)

Если ты устанавливал через `git clone`:

```bash
cd content-factory
git pull
```

**Готово!** Git автоматически защитит твои проекты через `.gitignore`.

### Почему это безопасно:
- `.gitignore` исключает папку `projects/*` (кроме `_template`)
- Твои файлы не конфликтуют с обновлениями
- Можешь посмотреть что изменилось: `git diff`
- Можешь откатиться: `git checkout .`

---

## Способ 2: ZIP (ручное обновление)

Если ты скачивал ZIP-архив:

### Шаг 1. Скачай новую версию

Скачай ZIP с GitHub → распакуй в **отдельную** папку (например, `content-factory-new`).

### Шаг 2. Запусти команду безопасного обновления

Скопируй и вставь в терминал:

```bash
# Замени пути на свои, если отличаются
OLD="content-factory"
NEW="content-factory-new"

# Обновляем движок (безопасные файлы)
cp -r "$NEW/.claude/skills/"* "$OLD/.claude/skills/"
cp -r "$NEW/agents/"* "$OLD/agents/"
cp -r "$NEW/docs/"* "$OLD/docs/"
cp -r "$NEW/scripts/"* "$OLD/scripts/"
cp -r "$NEW/projects/_template/"* "$OLD/projects/_template/"
cp "$NEW/CLAUDE.md" "$OLD/CLAUDE.md"
cp "$NEW/README.md" "$OLD/README.md"
cp "$NEW/CHANGELOG.md" "$OLD/CHANGELOG.md"
cp "$NEW/UPDATE-GUIDE.md" "$OLD/UPDATE-GUIDE.md"
cp "$NEW/VERSION" "$OLD/VERSION"
cp "$NEW/MODULE-MAP.md" "$OLD/MODULE-MAP.md" 2>/dev/null
cp "$NEW/SKILLS-ROUTING.md" "$OLD/SKILLS-ROUTING.md" 2>/dev/null
cp "$NEW/AGENTS-ROUTING.md" "$OLD/AGENTS-ROUTING.md" 2>/dev/null

echo "✅ Обновление завершено!"
echo "Версия: $(cat "$OLD/VERSION")"
```

### Шаг 3. Удали временную папку

```bash
rm -rf content-factory-new
```

---

## Что обновляется и как часто

| Компонент | Как часто | Что меняется |
|-----------|-----------|-------------|
| **Skills** (навыки) | Каждую неделю | Новые хуки, формулы, техники |
| **Agents** (агенты) | 1-2 раза в месяц | Новые агенты, улучшения пайплайнов |
| **Шаблон** (_template) | При больших обновлениях | Новая структура проекта |
| **Документация** | При изменениях | Новые гайды, уточнения |
| **Архитектура** | Редко | Фундаментальные изменения |

---

## Чеклист после обновления

После каждого обновления пройди по этому списку:

### Быстрая проверка (2 минуты)

- [ ] **Версия обновилась:** `cat VERSION` → показывает новую версию
- [ ] **Skills на месте:** папка `.claude/skills/` содержит папки (threads, youtube, и т.д.)
- [ ] **Твой проект цел:** `ls projects/{твой-проект}/brand/` → файлы на месте
- [ ] **Тестовая генерация:** запусти `claude` → напиши `threads 3` → посты генерируются

### Если что-то не работает

1. **Посты генерируются, но без методологии** (нет хуков, формул)
   - Проверь: `ls .claude/skills/threads/` — файлы есть?
   - Решение: переустанови skills из новой версии

2. **Claude не видит твой проект**
   - Проверь: `ls projects/{твой-проект}/brand/` — файлы на месте?
   - Решение: убедись что папка проекта не была случайно удалена

3. **Странные ошибки**
   - Перезапусти Claude Code: выйди (`Ctrl+C`) и запусти `claude` заново

---

## Если ты менял skills под себя

Иногда хочется подкрутить навык (skill) под свои нужды. Как не потерять изменения:

### До обновления:

```bash
# Сохрани свою версию
cp -r .claude/skills/threads .claude/skills/threads-my-backup
```

### После обновления:

1. Открой свой бэкап (`threads-my-backup/`)
2. Открой обновлённую версию (`threads/`)
3. Перенеси свои изменения вручную

> **Совет:** Лучше вносить кастомизации в `projects/{проект}/learning/`, а не в сами skills. Тогда обновления не затронут твои правки.

---

## Новые навыки и модули

Иногда в обновлении появляются **новые** skills или agents. Они автоматически добавятся при обновлении.

Что нужно сделать:
1. Прочти `CHANGELOG.md` — там описано что нового
2. Попробуй новые команды (они перечислены в CHANGELOG)
3. Если новый skill нужен в проекте — он уже подключён автоматически

---

## Откуда узнавать об обновлениях

- **Telegram-канал:** [@galsonproai](https://t.me/galsonproai)
- **Coworking-эфиры** (каждую субботу) — разбор новых функций
- **CHANGELOG.md** — полная история изменений

---

## Экстренный откат

Если после обновления всё сломалось:

### Git:

```bash
git checkout .
```

Откатит все файлы к предыдущей версии. Твои проекты не пострадают.

### ZIP:

Если сохранил старую версию — скопируй системные файлы обратно из неё.

> **Совет:** Перед обновлением через ZIP делай копию всей папки:
> ```bash
> cp -r content-factory content-factory-backup
> ```

---

## Помощь

- **Документация:** `docs/` в конструкторе
- **Telegram:** [@maximgalson](https://t.me/maximgalson)
- **Канал:** [@galsonproai](https://t.me/galsonproai)

---

*Фабрика Контента v2.0*  
*Макс Галсон • [galson.pro](https://galson.pro)*
